<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KENYEN Steel Works & Construction Services</title>
  <meta name="description" content="KENYEN — structural steel fabrication, civil construction and turnkey delivery in Panabo City." />
  <style>
    /* Palette and layout (kept from your provided code) */
    :root{
      --bg: #f6f8fa;
      --card: #ffffff;
      --panel-bg: rgba(255,255,255,0.92); /* slightly translucent so background shows subtly */
      --text: #0b2a34;
      --muted: #56707a;
      --action-blue: #0b66b2;
      --accent-yellow: #f2c230;
      --danger: #c92d2d;
      --radius: 12px;
      --container: 1100px;
      --base-size: 18px;
      --line-height: 1.6;
      --shadow: 0 10px 28px rgba(11,34,51,0.06);
    }

    /* Reset & base */
    * { box-sizing: border-box; }
    html { font-size: var(--base-size); height: 100%; }
    body {
      margin: 0;
      min-height: 100%;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: var(--line-height);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
    }

    /* Background image inserted as a non-interactive pseudo element
       with a dark translucent overlay to keep foreground readable.
       Uses raw.githubusercontent URL (direct file). */
    body::before{
      content: "";
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background-image:
        linear-gradient(rgba(6,12,18,0.56), rgba(6,12,18,0.56)),
        url("https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/495571998_1198828945588188_6177126918907221986_n.jpg");
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      will-change: transform;
      filter: saturate(0.95) contrast(0.9) brightness(0.75);
      transform: translateZ(0);
    }

    /* On small screens reduce visual weight further */
    @media (max-width: 900px) {
      body::before {
        filter: saturate(0.9) contrast(0.9) brightness(0.7) blur(1px);
        background-attachment: scroll;
      }
    }

    .container { max-width: var(--container); margin: 0 auto; padding: 0 1rem; }

    /* Header */
    header {
      position: sticky;
      top: 0;
      z-index: 200;
      background: rgba(255,255,255,0.94);
      border-bottom: 1px solid rgba(11,42,54,0.04);
      backdrop-filter: blur(6px);
    }
    .header-inner {
      max-width: var(--container);
      margin: 0 auto;
      padding: 0.9rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      height: 84px;
    }

    .brand { display:flex; gap:12px; align-items:center; }
    .logo-wrap {
      width:64px; height:64px; border-radius:12px; overflow:hidden;
      background: linear-gradient(135deg,#eaf4ff, #ffffff);
      display:grid; place-items:center; box-shadow: var(--shadow); flex-shrink:0;
      border: 1px solid rgba(11,42,54,0.04);
    }
    .logo-wrap img { width:86%; height:86%; object-fit:contain; display:block; }

    .titles { display:flex; flex-direction:column; line-height:1; }
    .titles .title { font-weight:700; font-size:1.05rem; color:var(--text); }
    .titles .subtitle { font-size:0.92rem; color:var(--muted); }

    nav { display:flex; gap:8px; align-items:center; }
    .nav-link {
      padding: .45rem .7rem;
      border-radius:8px;
      font-weight:700;
      font-size:0.98rem;
      color:var(--text);
    }
    .nav-link:focus, .nav-link:hover { background: #eef6fb; outline: none; }
    .nav-link[aria-current="true"] { background: rgba(11,102,178,0.06); }

    .actions { display:flex; gap:10px; align-items:center; }
    .btn-primary {
      background: var(--action-blue);
      color: #fff;
      padding: .55rem .95rem;
      border-radius: 999px;
      font-weight:800;
      border: 0;
      box-shadow: 0 8px 20px rgba(11,102,178,0.12);
      font-size:1rem;
    }
    .btn-outline {
      background: transparent;
      color: var(--action-blue);
      padding: .45rem .75rem;
      border-radius: 8px;
      border: 2px solid rgba(11,102,178,0.12);
      font-weight:700;
    }

    .menu-toggle { display:none; background:transparent; border:0; font-size:1.25rem; cursor:pointer; padding:.35rem; border-radius:6px; }
    @media (max-width:920px){
      nav { display:none; }
      .menu-toggle { display:inline-flex; }
      .titles .subtitle { display:none; }
      .logo-wrap { width:56px; height:56px; }
    }

    /* Main layout */
    main { padding-top: 18px; padding-bottom: 40px; position: relative; z-index: 1; }

    /* Cards use a slightly translucent white so image peeks through but content stays readable */
    .card {
      background: var(--panel-bg);
      border-radius: var(--radius);
      padding: 22px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(11,42,54,0.04);
      backdrop-filter: blur(4px);
    }

    .hero { display:grid; grid-template-columns: 1fr 360px; gap:20px; align-items:start; }
    @media (max-width:980px) { .hero { grid-template-columns: 1fr; } }

    .hero-card { padding: 28px; }
    .kicker { display:inline-block; padding:.25rem .6rem; border-radius:999px; background:var(--accent-yellow); color: #082028; font-weight:800; font-size:0.9rem; }
    h1 { margin: .6rem 0 0; font-size:1.9rem; line-height:1.06; color:var(--text); font-weight:700; }
    p.lead { margin-top:12px; color:var(--muted); font-size:1.05rem; }

    .hero-actions { margin-top:16px; display:flex; gap:10px; flex-wrap:wrap; }
    .stats { margin-top:18px; display:flex; gap:12px; flex-wrap:wrap; }
    .stat { background: rgba(255,255,255,0.7); padding:.6rem 1rem; border-radius:10px; min-width:110px; text-align:center; border:1px solid rgba(11,102,178,0.04); }
    .stat strong { display:block; font-size:1.05rem; font-weight:800; color:var(--text); }

    .contact-card { display:flex; flex-direction:column; gap:12px; padding:18px; border-radius:var(--radius); background: linear-gradient(180deg,#fff,#fbfdff); border:1px solid rgba(11,42,54,0.03); box-shadow:var(--shadow); }
    .contact-card h4 { margin:0; color:var(--action-blue); font-weight:700; }
    .contact-row { display:flex; gap:12px; align-items:center; justify-content:space-between; }
    .contact-row .info { color:var(--muted); font-size:0.98rem; }

    /* Sections */
    section { margin-top:22px; }
    .section-title { display:flex; justify-content:space-between; align-items:baseline; gap:12px; }
    .section-title h2 { margin:0; font-weight:700; color:var(--action-blue); font-size:1.15rem; }

    /* About & CEO */
    .two-col { display:grid; grid-template-columns: 1fr 420px; gap:18px; align-items:start; }
    @media (max-width:980px) { .two-col { grid-template-columns: 1fr; } }

    .glass { background: var(--panel-bg); padding:18px; border-radius:12px; box-shadow:var(--shadow); border:1px solid rgba(11,42,54,0.04); }

    .ceo {
      display:grid; grid-template-columns:160px 1fr; gap:14px; align-items:center; background:var(--panel-bg);
      padding:14px; border-radius:12px; box-shadow:var(--shadow); border:1px solid rgba(11,42,54,0.04);
    }
    @media (max-width:720px) { .ceo { grid-template-columns:1fr; text-align:center; } .ceo .photo { margin:0 auto; } }
    .photo { width:160px; height:160px; border-radius:10px; overflow:hidden; border:6px solid #fff; box-shadow:0 12px 30px rgba(11,34,51,0.06); background:#eef6fb; display:grid; place-items:center; }
    .photo img { width:100%; height:100%; object-fit:cover; display:block; }

    .quote { margin-top:10px; padding:10px; border-left:4px solid var(--action-blue); background: rgba(255,255,255,0.7); border-radius:6px; color:var(--text); }

    /* Projects */
    .projects-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:14px; margin-top:12px; }
    .project { background: var(--panel-bg); padding:12px; border-radius:10px; border:1px solid rgba(11,42,54,0.04); box-shadow:0 8px 20px rgba(7,24,39,0.04); display:flex; flex-direction:column; gap:10px; }
    .project .media { height:110px; border-radius:8px; background: rgba(238,248,255,0.65); display:grid; place-items:center; font-weight:800; color:var(--action-blue); }
    .project .meta { color:var(--muted); font-size:0.98rem; }
    .badge { display:inline-block; padding:.28rem .6rem; border-radius:8px; font-weight:700; color:#fff; background:var(--action-blue); }

    /* Contact */
    .contact-grid { display:grid; grid-template-columns:1fr 320px; gap:14px; margin-top:12px; }
    @media (max-width:980px) { .contact-grid { grid-template-columns:1fr; } }
    .contact-info { background:var(--panel-bg); padding:14px; border-radius:10px; border:1px solid rgba(11,42,54,0.04); box-shadow:0 8px 20px rgba(7,24,39,0.04); }

    /* Footer */
    footer { margin-top:28px; padding:18px 0; text-align:center; color:var(--muted); font-size:0.98rem; }

    /* Accessibility focus */
    :focus { outline: 3px solid rgba(11,102,178,0.12); outline-offset:3px; }

    /* If background fails to load, JS will add this class to hide the pseudo element */
    body.bg-image-failed::before { display: none; }
  </style>
</head>
<body>
  <header role="banner" aria-label="Main header">
    <div class="header-inner container">
      <a class="brand" href="#home" title="KENYEN home" aria-label="Go to home">
        <div class="logo-wrap" id="logoWrap" aria-hidden="false">
          <!-- logo loaded from the repo (raw) -->
          <img id="brandLogo" src="https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/Pics/LOGO.jpg" alt="KENYEN logo">
        </div>

        <div class="titles">
          <div class="title">KENYEN Steel Works &amp; Construction</div>
          <div class="subtitle">Panabo City — Steel &amp; Civil Works</div>
        </div>
      </a>

      <nav role="navigation" aria-label="Primary navigation">
        <a class="nav-link" href="#home" data-target="home" aria-current="true">Home</a>
        <a class="nav-link" href="#about" data-target="about">About</a>
        <a class="nav-link" href="#ceo" data-target="ceo">CEO</a>
        <a class="nav-link" href="#projects" data-target="projects">Projects</a>
        <a class="nav-link" href="#contact" data-target="contact">Contact</a>
      </nav>

      <div class="actions">
        <a class="btn-primary" href="#contact">Request Quote</a>
        <button class="menu-toggle" id="menuToggle" aria-controls="mobileNav" aria-expanded="false" aria-label="Open menu">☰</button>
      </div>
    </div>

    <!-- Mobile nav -->
    <div id="mobileNav" style="display:none; border-top:1px solid rgba(11,42,54,0.03); background:#fff;">
      <div class="container" style="padding:10px 0;">
        <nav role="navigation" aria-label="Mobile navigation" style="display:flex;flex-direction:column;gap:8px;">
          <a href="#home" data-target="home" onclick="closeMobile()">Home</a>
          <a href="#about" data-target="about" onclick="closeMobile()">About</a>
          <a href="#ceo" data-target="ceo" onclick="closeMobile()">CEO</a>
          <a href="#projects" data-target="projects" onclick="closeMobile()">Projects</a>
          <a href="#contact" data-target="contact" onclick="closeMobile()">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <main id="main" class="container" role="main">
    <!-- HERO -->
    <section id="home" class="hero" aria-labelledby="heroTitle">
      <div class="card hero-card" aria-labelledby="heroTitle">
        <div class="kicker" aria-hidden="true">Trusted • Local • Certified</div>
        <h1 id="heroTitle">Durable steelwork and reliable construction — delivered with care</h1>
        <p class="lead">We provide structural steel fabrication, civil construction and turnkey project delivery across Panabo City and neighboring provinces. Safety, quality and clear communication are priorities for every project.</p>

        <div class="hero-actions" role="group" aria-label="Primary actions">
          <a class="btn-primary" href="#contact">Get a Quote</a>
          <a class="btn-outline" href="#projects">View Projects</a>
        </div>

        <div class="stats" aria-hidden="true">
          <div class="stat"><strong>15+</strong><span class="muted" style="display:block;">Years</span></div>
          <div class="stat"><strong>120+</strong><span class="muted" style="display:block;">Projects</span></div>
          <div class="stat"><strong>ISO</strong><span class="muted" style="display:block;">Quality</span></div>
        </div>
      </div>

      <aside class="card contact-card" aria-labelledby="quickContact">
        <div>
          <h4 id="quickContact">Quick contact</h4>
          <p class="muted" style="margin:4px 0 0;">For quotes, site visits, or technical questions — reach out and we'll respond promptly.</p>
        </div>

        <div>
          <div class="contact-row">
            <div>
              <div style="font-weight:700">Phone</div>
              <div class="info"><a href="tel:+63848230528">(084) 823 0528</a></div>
            </div>
            <div style="font-weight:700; color:var(--action-blue)">📞</div>
          </div>

          <div style="height:10px"></div>

          <div class="contact-row">
            <div>
              <div style="font-weight:700">Email</div>
              <div class="info"><a href="mailto:kenyenconstructionservices@gmail.com">kenyenconstructionservices@gmail.com</a></div>
            </div>
            <div style="font-weight:700; color:var(--danger)">✉️</div>
          </div>

          <div style="margin-top:12px;">
            <a class="btn-primary" href="tel:+63848230528">Call Now</a>
            <a class="btn-outline" href="mailto:kenyenconstructionservices@gmail.com" style="margin-left:8px">Email</a>
          </div>
        </div>

        <div style="margin-top:auto; color:var(--muted); font-size:0.98rem;">Office: Purok 9, Phase 3, Urban Salvacion — Mon–Sat 8:00–17:00</div>
      </aside>
    </section>

    <!-- ABOUT & CEO -->
    <section id="about" aria-labelledby="aboutHeading">
      <div class="section-title">
        <h2 id="aboutHeading">About KenYen</h2>
        <div class="muted">Family-owned • Local expertise</div>
      </div>

      <div class="two-col" style="margin-top:12px;">
        <div class="glass" aria-labelledby="whoWeAre">
          <h3 id="whoWeAre" style="margin-top:0;">Who we are</h3>
          <p class="muted">Founded in 2011 by Erwin C. Laurel, KenYen Steel Works &amp; Construction Services delivers structural steel fabrication, welding, engineering detailing and full site execution. We prioritize compliance, safety and client satisfaction for residential, commercial and public works.</p>

          <h4 style="color:var(--action-blue); margin-top:12px;">Mission</h4>
          <p class="muted">Provide safe, high-quality, affordable steel fabrication and construction through stewardship, innovation and environmental responsibility.</p>

          <h4 style="color:var(--action-blue); margin-top:10px;">Vision</h4>
          <p class="muted">To be the leading provider of sustainable construction and steel solutions in Panabo City and beyond.</p>
        </div>

        <aside>
          <div id="ceo" class="ceo" aria-labelledby="ceoName">
            <div class="photo" aria-hidden="false">
              <!-- fixed CEO photo (raw GitHub link) -->
              <img src="https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/440239264_1445261156088996_7180069057551357572_n.jpg"
                   alt="Erwin C. Laurel — Founder and CEO">
            </div>

            <div>
              <div id="ceoName" class="name">Erwin C. Laurel</div>
              <div class="role">Founder &amp; Chief Executive Officer</div>

              <p class="quote">"We build with integrity — delivering safe, efficient and durable solutions while nurturing lasting client relationships."</p>

              <div style="display:flex; gap:8px; margin-top:10px; flex-wrap:wrap;">
                <div style="background:#f9fbff;padding:8px;border-radius:8px;border:1px solid rgba(11,42,54,0.04);text-align:center;min-width:86px;">
                  <div style="font-size:0.88rem;color:var(--muted)">Experience</div>
                  <div style="font-weight:800">15+ yrs</div>
                </div>
                <div style="background:#eef8ff;padding:8px;border-radius:8px;border:1px solid rgba(11,42,54,0.04);text-align:center;min-width:86px;">
                  <div style="font-size:0.88rem;color:var(--muted)">Projects</div>
                  <div style="font-weight:800">120+</div>
                </div>
                <div style="background:#fffaf0;padding:8px;border-radius:8px;border:1px solid rgba(11,42,54,0.04);text-align:center;min-width:86px;">
                  <div style="font-size:0.88rem;color:var(--muted)">Specialty</div>
                  <div style="font-weight:800">Steel &amp; Civils</div>
                </div>
              </div>

              <div style="display:flex; gap:8px; margin-top:12px; flex-wrap:wrap;">
                <a class="btn-primary" href="mailto:kenyenconstructionservices@gmail.com">Email Erwin</a>
                <a class="btn-outline" href="#contact">Contact Office</a>
              </div>
            </div>
          </div>

          <div class="glass" style="margin-top:12px;">
            <h4 style="margin:0 0 8px 0; color:var(--action-blue);">Our History</h4>
            <p class="muted" style="margin:0; white-space:pre-line;">KenYen Steel Works &amp; Construction Services was founded in 2011 by Erwin C. Laurel. Born from a passion for architecture and family values, KenYen has completed many projects across Panabo City and neighboring provinces while following specifications, regulations and industry best practices.</p>
          </div>
        </aside>
      </div>
    </section>

    <!-- PROJECTS: all included -->
    <section id="projects" aria-labelledby="projectsHeading">
      <div class="section-title">
        <h2 id="projectsHeading">Projects</h2>
        <div class="muted">Completed — notable recent works</div>
      </div>

      <div class="projects-grid" role="list">
        <article class="project" role="listitem" aria-labelledby="proj1">
          <div class="media" aria-hidden="true">PANABO FIRE STATION</div>
          <div>
            <div id="proj1" style="font-weight:800;color:var(--text)">Repair &amp; Improvement of Panabo City Fire Station</div>
            <div class="meta">
              <div><strong>Location:</strong> San Pedro, Panabo City, Davao del Norte</div>
              <div><strong>Owner:</strong> BFP XI - Panabo City Fire Station</div>
              <div><strong>Completed:</strong> August 2025</div>
            </div>
          </div>
          <div style="margin-top:auto; display:flex; justify-content:space-between; align-items:center;">
            <div class="muted">Public Safety</div>
            <div class="badge">Completed</div>
          </div>
        </article>

        <article class="project" role="listitem" aria-labelledby="proj2">
          <div class="media" aria-hidden="true">DELA CRUZ HOTEL</div>
          <div>
            <div id="proj2" style="font-weight:800;color:var(--text)">Dela Cruz Hotel — Renovation &amp; Improvement</div>
            <div class="meta">
              <div><strong>Location:</strong> San Pedro, Panabo City, Davao del Norte</div>
              <div><strong>Owner:</strong> Luz Delacruz</div>
              <div><strong>Completed:</strong> September 2025</div>
            </div>
          </div>
          <div style="margin-top:auto; display:flex; justify-content:space-between; align-items:center;">
            <div class="muted">Commercial</div>
            <div class="badge">Completed</div>
          </div>
        </article>

        <article class="project" role="listitem" aria-labelledby="proj3">
          <div class="media" aria-hidden="true">FENCE &amp; GATE</div>
          <div>
            <div id="proj3" style="font-weight:800;color:var(--text)">Demolition &amp; Construction of Concrete Fence + Steel Gate</div>
            <div class="meta">
              <div><strong>Location:</strong> San Andres, Tarlac City / Manila</div>
              <div><strong>Owner:</strong> Ryan Gil S. Medina</div>
              <div><strong>Completed:</strong> June 2025</div>
            </div>
          </div>
          <div style="margin-top:auto; display:flex; justify-content:space-between; align-items:center;">
            <div class="muted">Residential</div>
            <div class="badge">Completed</div>
          </div>
        </article>

        <article class="project" role="listitem" aria-labelledby="proj4">
          <div class="media" aria-hidden="true">ROAD PAVEMENT</div>
          <div>
            <div id="proj4" style="font-weight:800;color:var(--text)">Concreting of Road Pavement</div>
            <div class="meta">
              <div><strong>Location:</strong> San Andres, Tarlac City / Manila</div>
              <div><strong>Owner:</strong> Ryan Gil S. Medina</div>
              <div><strong>Completed:</strong> August 2025</div>
            </div>
          </div>
          <div style="margin-top:auto; display:flex; justify-content:space-between; align-items:center;">
            <div class="muted">Infrastructure</div>
            <div class="badge">Completed</div>
          </div>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" aria-labelledby="contactHeading">
      <div class="section-title">
        <h2 id="contactHeading">Contact</h2>
        <div class="muted">We're happy to help — all ages and backgrounds welcome</div>
      </div>

      <div class="contact-grid">
        <div class="contact-info">
          <p class="muted">For project inquiries, technical questions or quotations, call or email. We respond promptly and can schedule site visits and measurements.</p>

          <div style="display:flex; gap:14px; margin-top:12px; flex-wrap:wrap;">
            <div style="min-width:180px;">
              <div style="font-weight:800">Phone</div>
              <div class="muted"><a href="tel:+63848230528">(084) 823 0528</a></div>
            </div>

            <div style="min-width:220px;">
              <div style="font-weight:800">Email</div>
              <div class="muted"><a href="mailto:kenyenconstructionservices@gmail.com">kenyenconstructionservices@gmail.com</a></div>
            </div>
          </div>

          <div style="margin-top:14px;">
            <a class="btn-primary" href="tel:+63848230528">Call Now</a>
            <a class="btn-outline" href="mailto:kenyenconstructionservices@gmail.com" style="margin-left:8px">Email</a>
          </div>
        </div>

        <aside class="contact-info" aria-label="office details">
          <div style="font-weight:800; color:var(--action-blue)">Office</div>
          <div class="muted">Purok 9, Phase 3, Urban Salvacion — Panabo City</div>

          <div style="height:12px"></div>

          <div style="font-weight:800; color:var(--action-blue)">Office Hours</div>
          <div class="muted">Mon–Sat: 8:00 AM – 5:00 PM</div>

          <div style="height:12px"></div>

          <div style="font-weight:800; color:var(--action-blue)">Company</div>
          <div class="muted">KENYEN Steel Works &amp; Construction Services</div>
        </aside>
      </div>
    </section>

    <footer>
      <div style="padding-top:14px;padding-bottom:6px;color:var(--muted);">© <span id="year"></span> KENYEN Steel Works &amp; Construction Services — All rights reserved.</div>
    </footer>
  </main>

  <script>
    (function(){
      const menuToggle = document.getElementById('menuToggle');
      const mobileNav = document.getElementById('mobileNav');
      const navLinks = document.querySelectorAll('[data-target]');
      const header = document.querySelector('header');
      const yearEl = document.getElementById('year');
      const brandLogo = document.getElementById('brandLogo');
      const ceoImg = document.querySelector('.ceo .photo img');

      if (yearEl) yearEl.textContent = new Date().getFullYear();

      // Mobile menu toggle
      window.closeMobile = function(){
        if(!mobileNav) return;
        mobileNav.style.display = 'none';
        if(menuToggle) menuToggle.setAttribute('aria-expanded','false');
      };
      if (menuToggle) {
        menuToggle.addEventListener('click', function(){
          const open = mobileNav.style.display !== 'block';
          mobileNav.style.display = open ? 'block' : 'none';
          menuToggle.setAttribute('aria-expanded', String(open));
        });
      }

      // Smooth scroll adjusted for header height
      function smoothTo(id){
        const el = document.getElementById(id);
        if(!el) return;
        closeMobile();
        const offset = header ? header.offsetHeight : 0;
        const top = window.scrollY + el.getBoundingClientRect().top - offset - 12;
        window.scrollTo({ top, behavior: 'smooth' });
      }
      navLinks.forEach(a => {
        a.addEventListener('click', function(e){
          e.preventDefault();
          const t = this.getAttribute('data-target');
          if (t) smoothTo(t);
        });
      });

      // highlight nav while scrolling
      function highlight(){
        const offset = (header ? header.offsetHeight : 0) + 20;
        let current = 'home';
        document.querySelectorAll('main section[id]').forEach(sec => {
          const rect = sec.getBoundingClientRect();
          if (rect.top - offset <= 0) current = sec.id;
        });
        document.querySelectorAll('.nav-link').forEach(link => {
          const target = link.getAttribute('data-target');
          if (target === current) link.setAttribute('aria-current', 'true'); else link.removeAttribute('aria-current');
        });
      }
      window.addEventListener('scroll', highlight, { passive: true });
      window.addEventListener('load', highlight);
      window.addEventListener('resize', highlight);

      // Logo fallback
      function setLogoFallback(){
        const logoWrap = document.getElementById('logoWrap');
        if(!brandLogo || !logoWrap) return;
        function showText(){
          logoWrap.innerHTML = '<div style="font-weight:800;color:var(--action-blue);">KENYEN</div>';
          logoWrap.style.background = '#fff';
        }
        if (brandLogo.complete) {
          if (brandLogo.naturalWidth === 0) showText();
        } else {
          brandLogo.addEventListener('error', showText, { once:true });
          setTimeout(()=> { if (brandLogo.naturalWidth === 0) showText(); }, 3000);
        }
      }
      setLogoFallback();

      // CEO image fallback (show initials card if image broken)
      (function ceoFallback(){
        const photo = document.querySelector('.ceo .photo');
        if(!ceoImg || !photo) return;
        function showPlaceholder(){
          photo.innerHTML = '<div style="width:100%;height:100%;display:grid;place-items:center;background:#eef8ff;color:var(--action-blue);font-weight:800;font-size:28px;border-radius:8px;">EC</div>';
        }
        if (ceoImg.complete) {
          if (ceoImg.naturalWidth === 0) showPlaceholder();
        } else {
          ceoImg.addEventListener('error', showPlaceholder, { once:true });
          setTimeout(()=> { if (ceoImg.naturalWidth === 0) showPlaceholder(); }, 3000);
        }
      })();

      // Background image availability check:
      // If the raw.githubusercontent link fails (CORS/network) hide the pseudo background to avoid ugly broken image behavior.
      (function checkBackground(){
        const bgUrl = "https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/495571998_1198828945588188_6177126918907221986_n.jpg";
        const img = new Image();
        let done = false;
        img.onload = function(){
          done = true;
          // good: background is available; nothing else to do
        };
        img.onerror = function(){
          done = true;
          document.body.classList.add('bg-image-failed');
          // switch panels to fully opaque to keep readability
          document.querySelectorAll('.card, .glass, .contact-info, .ceo, .project').forEach(el => {
            el.style.background = 'var(--card)';
            el.style.backdropFilter = 'none';
          });
        };
        img.src = bgUrl;
        // safety timeout: if not loaded after 4s, assume fail
        setTimeout(() => {
          if (!done) {
            document.body.classList.add('bg-image-failed');
            document.querySelectorAll('.card, .glass, .contact-info, .ceo, .project').forEach(el => {
              el.style.background = 'var(--card)';
              el.style.backdropFilter = 'none';
            });
          }
        }, 4000);
      })();

      // show focus outlines for keyboard users
      document.addEventListener('keydown', function(e){
        if (e.key === 'Tab') document.body.classList.add('user-is-tabbing');
      });
    })();
  </script>
</body>
</html>
