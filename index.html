<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kenyen Steel Works & Construction Services</title>
  <meta name="description" content="Kenyen — structural steel fabrication & construction." />

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-color: #f4f6f8;
      --card: #ffffff;
      --panel-bg: rgba(255,255,255,0.88);
      --muted-bg: #eef3f7;
      --text: #0b2b3a;
      --primary: rgba(0,0,255,0.94);
      --primary-100: rgba(0,0,255,0.06);
      --accent: rgba(255,199,0,0.92);
      --danger: rgba(255,0,0,0.86);
      --muted: #6b7780;
      --radius: 12px;
      --container: 1100px;
      --shadow: 0 10px 30px rgba(10,30,60,0.06);
      --header-h: 86px;
    }

    * { box-sizing: border-box; }
    html,body { height: 100%; }
    html { scroll-behavior: smooth; scroll-padding-top: var(--header-h); }
    body{
      margin:0;
      font-family:'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color:var(--text);
      line-height:1.5;
      -webkit-font-smoothing:antialiased;
      background-color: var(--bg-color);
      overflow-x: hidden;
    }

    /* Background image (contain = whole image visible) */
    .site-bg{
      position: fixed;
      inset: 0;
      z-index: -2;
      pointer-events: none;
      display: grid;
      align-items: center;
      justify-items: center;
      background: linear-gradient(180deg, rgba(6,10,18,0.03), rgba(255,255,255,0.02));
    }
    .site-bg img {
      width: 100%;
      height: 100%;
      max-height: 100vh;
      object-fit: contain;
      object-position: center;
      display: block;
      filter: saturate(0.98) contrast(0.95) brightness(0.72);
      transform-origin: center;
      will-change: transform;
      transition: transform 0.18s linear;
      pointer-events: none;
      user-select: none;
    }
    .site-bg::after{
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(60% 60% at 50% 30%, rgba(0,0,60,0.06) 0%, rgba(0,0,60,0.02) 30%, rgba(0,0,60,0.09) 100%),
        linear-gradient(180deg, rgba(0,0,120,0.01), rgba(255,199,0,0.01));
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    body::after{
      content: "";
      position: fixed;
      right: 22px;
      bottom: 22px;
      width: 140px;
      height: 140px;
      background-image: url('https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/Pics/LOGO.jpg');
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      opacity: 0.06;
      filter: grayscale(1) blur(0.2px);
      pointer-events: none;
      z-index: -1;
    }

    a { color: inherit; text-decoration: none; }
    img { display:block; max-width:100%; height:auto; }

    .container{ max-width: var(--container); margin: 0 auto; padding: 0 1rem; }

    /* Header - made flexible so content never gets clipped */
    header{
      position: fixed;
      inset: 0 0 auto 0;
      z-index: 120;
      background: rgba(255,255,255,0.90);
      border-bottom: 1px solid rgba(11,43,70,0.06);
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px) saturate(1.05);
      padding: 10px 0; /* flexible vertical padding instead of fixed height */
    }
    .header-inner{
      width:100%;
      max-width:var(--container);
      margin:0 auto;
      padding:0 .9rem;
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap:12px;
      flex-wrap:wrap; /* allows items to wrap onto a new line if there's not enough horizontal space */
    }

    .brand{ display:flex; gap:12px; align-items:center; min-width:0; z-index: 125; flex: 0 1 auto; }
    .logo-wrap{
      width:56px; height:56px; border-radius:10px; overflow:hidden; display:grid; place-items:center;
      background: linear-gradient(180deg, rgba(0,0,255,0.12), rgba(255,199,0,0.04));
      box-shadow: 0 8px 26px rgba(0,0,0,0.06);
      flex-shrink:0;
      border: 1px solid rgba(255,255,255,0.5);
    }
    .logo-wrap img{ width:86%; height:86%; object-fit:contain; display:block; }

    .titles{ display:flex; flex-direction:column; min-width:0; max-width: calc(100vw - 420px); }
    .brand-title{ font-weight:700; font-size:clamp(1rem,2.4vw,1.25rem); color:var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .brand-sub{ font-size:0.85rem; color:var(--muted); margin-top:3px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    /* Nav is allowed to shrink; will hide on small screens */
    nav{ display:flex; gap:8px; align-items:center; justify-self:center; min-width:0; overflow:hidden; flex: 1 1 auto; }
    .nav-link{
      padding:.38rem .62rem;
      border-radius:9px;
      font-weight:600;
      font-size:0.93rem;
      color:var(--text);
      transition: background .15s ease, transform .12s ease;
      background: transparent;
      white-space:nowrap;
    }
    .nav-link:hover{ background: var(--primary-100); transform: translateY(-1px); }
    .nav-link[aria-current="true"]{ background: var(--primary-100); color:var(--primary); }

    /* Actions area pinned to the right; wrap if needed */
    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      z-index:125;
      margin-left:auto; /* pushes actions to the far right on the same row when space allows */
      flex: 0 0 auto;
      flex-wrap:wrap;
    }
    .actions > * { margin: 2px 0; } /* small vertical breathing room when wrapped */

    .btn-primary{
      background: linear-gradient(90deg, rgba(0,0,255,0.96), rgba(0,0,255,0.86));
      color: #fff;
      padding: .5rem .9rem;
      border-radius: 999px;
      font-weight:800;
      border:0;
      box-shadow: 0 8px 20px rgba(0,0,255,0.08);
      font-size:0.95rem;
    }
    .btn-secondary{
      background:transparent;
      border:1px solid rgba(0,0,0,0.06);
      padding:.46rem .8rem;
      border-radius:9px;
      font-weight:600;
    }
    .menu-toggle{ display:none; background:transparent; border:0; font-size:1.25rem; padding:.35rem; border-radius:8px; cursor:pointer; }

    @media (max-width:920px){
      nav{ display:none; }
      .brand-sub{ display:none; }
      .menu-toggle{ display:inline-flex; }
      .logo-wrap{ width:50px; height:50px; }
      .actions { margin-left: 0; width: 100%; justify-content: flex-end; }
      .header-inner { padding-left: 12px; padding-right: 12px; }
    }

    /* main: ensure there is enough bottom padding so last sections (Contact) never get sliced */
    main{ position: relative; z-index: 110; max-width:var(--container); margin:0 auto; padding:1rem; padding-bottom: 160px; transition: padding-top .12s ease; }

    /* Content layout */
    .hero{ display:grid; grid-template-columns:1fr 360px; gap:18px; align-items:start; margin-top:6px; }
    @media (max-width:980px){ .hero{ grid-template-columns:1fr; } }

    .card{ background:var(--panel-bg); border-radius:12px; padding:18px; box-shadow:var(--shadow); border:1px solid rgba(11,43,70,0.04); backdrop-filter: blur(6px) saturate(1.03); }

    .kicker{ display:inline-block; background:var(--accent); color:#111; padding:.28rem .6rem; border-radius:999px; font-weight:700; font-size:.88rem; }

    h1{ margin:.6rem 0 0; font-size:1.7rem; color:var(--text); line-height:1.06; font-weight:700; }
    p.lead{ margin-top:12px; color:var(--muted); font-size:1rem; }

    .hero-actions{ margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }
    .stats{ margin-top:16px; display:flex; gap:10px; flex-wrap:wrap; }
    .stat{ background:var(--muted-bg); padding:.6rem .9rem; border-radius:9px; min-width:96px; text-align:center; border:1px solid rgba(11,43,70,0.02); }
    .stat strong{ display:block; color:var(--text); font-weight:800; }

    .contact-card{ display:flex; flex-direction:column; gap:12px; padding:16px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92)); border:1px solid rgba(11,43,70,0.03); box-shadow:var(--shadow); backdrop-filter: blur(6px) saturate(1.02); }

    .section{ margin-top:20px; }
    .section-title{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
    .section-title h2{ margin:0; color:var(--text); font-size:1.05rem; font-weight:700; }

    .two-col{ display:grid; grid-template-columns:1fr 420px; gap:16px; margin-top:12px; }
    @media (max-width:980px){ .two-col{ grid-template-columns:1fr; } }

    .projects-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:12px; margin-top:12px; }

    .project{ background:var(--panel-bg); border-radius:10px; padding:12px; border:1px solid rgba(11,43,70,0.03); box-shadow: 0 8px 18px rgba(11,43,70,0.04); display:flex; flex-direction:column; gap:8px; backdrop-filter: blur(6px); }
    .project .media{ height:110px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.9)); display:grid; place-items:center; font-weight:700; color:var(--text); box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); }

    /* Contact grid: ensure content isn't clipped */
    .contact-grid{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:14px;
      margin-top:12px;
      align-items: start;
    }
    .contact-grid > * { min-height: 0; }    /* important to prevent "slicing" inside flex/grid cells */
    .contact-info{ background:var(--panel-bg); padding:14px; border-radius:10px; border:1px solid rgba(11,43,70,0.03); box-shadow:0 8px 20px rgba(7,24,39,0.04); }

    @media (max-width:980px){ .contact-grid{ grid-template-columns:1fr; } }

    footer{ margin-top:26px; padding:14px 0; text-align:center; color:var(--muted); font-size:.95rem; }

    .drawer-backdrop{ position:fixed; inset:0; background:rgba(8,12,20,0.36); z-index:130; display:none; align-items:flex-start; justify-content:flex-end; }
    .drawer-backdrop.open{ display:flex; }
    .drawer{
      background:var(--card);
      width:100%;
      max-width:380px;
      margin-top:calc(var(--header-h) + 8px);
      margin-right:16px;
      border-radius:12px;
      box-shadow: 0 18px 36px rgba(11,43,70,0.14);
      transform:translateY(-6px) scale(.99);
      transition:transform .18s ease, opacity .18s ease;
      opacity:0; pointer-events:none;
      border:1px solid rgba(11,43,70,0.04);
      overflow:auto;
    }
    .drawer.open{ transform:translateY(0) scale(1); opacity:1; pointer-events:auto; }
    @media (max-width:920px){ .drawer{ max-width:100%; border-radius:0; margin:0; margin-top:var(--header-h); } }
    .drawer .inner{ padding:14px; display:flex; flex-direction:column; gap:8px; }

    :focus{ outline:3px solid rgba(0,0,255,0.12); outline-offset:3px; }

    /* small device tweaks */
    @media (max-width:420px){
      .hero { gap:12px; }
      .brand-title { font-size:1.05rem; }
      .logo-wrap { width:48px; height:48px; }
      /* ensure actions don't overflow the viewport */
      .actions { justify-content: flex-end; gap:8px; }
    }
  </style>
</head>
<body>
  <div class="site-bg" id="siteBg" aria-hidden="true">
    <img id="bgImageImg" src="https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/Picture1.png" alt="Decorative background image">
  </div>

  <header id="siteHeader" role="banner" aria-label="Main header">
    <div class="header-inner container">
      <a class="brand" href="#home" aria-label="Go to home">
        <div class="logo-wrap" id="logoWrap">
          <img id="brandLogo" src="https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/Pics/LOGO.jpg" alt="KENYEN logo">
        </div>
        <div class="titles">
          <div class="brand-title">Kenyen Steel Works & Construction Services</div>
          <div class="brand-sub">Steel Fabrication • Civil Construction</div>
        </div>
      </a>

      <nav role="navigation">
        <a class="nav-link" href="#home" data-target="home" aria-current="true">Home</a>
        <a class="nav-link" href="#about" data-target="about">About</a>
        <a class="nav-link" href="#projects" data-target="projects">Projects</a>
        <a class="nav-link" href="#contact" data-target="contact">Contact</a>
      </nav>

      <div class="actions" role="group" aria-label="Header actions">
        <a class="btn-primary" href="#contact">Request Quote</a>
        <a class="btn-secondary" href="tel:+63848230528">Call (084) 823 0528</a>
        <button class="menu-toggle" id="menuToggle" aria-controls="drawer" aria-expanded="false" aria-label="Open menu">☰</button>
      </div>
    </div>
  </header>

  <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true">
    <div class="drawer" id="drawer" role="dialog" aria-modal="false" aria-label="Menu">
      <div class="inner">
        <a class="nav-link" href="#home" data-target="home">Home</a>
        <a class="nav-link" href="#about" data-target="about">About</a>
        <a class="nav-link" href="#projects" data-target="projects">Projects</a>
        <a class="nav-link" href="#contact" data-target="contact">Contact</a>
        <div style="margin-top:8px; display:flex; gap:8px;">
          <a class="btn-primary" href="#contact">Get Quote</a>
          <a class="btn-secondary" href="#contact">Contact</a>
        </div>
      </div>
    </div>
  </div>

  <main id="main" class="container" role="main">
    <section id="home" class="hero" aria-labelledby="heroTitle">
      <div class="card" aria-labelledby="heroTitle">
        <div class="kicker" aria-hidden="true">Trusted • Local • Certified</div>
        <h1 id="heroTitle">Durable steelwork and reliable construction — delivered with care</h1>
        <p class="lead">We provide structural steel fabrication, civil construction and turnkey project delivery. Safety, quality and clear communication are priorities for every job.</p>

        <div class="hero-actions" role="group" aria-label="Primary actions">
          <a class="btn-primary" href="#contact">Get a Quote</a>
          <a class="btn-secondary" href="#projects">View Projects</a>
        </div>

        <div class="stats" aria-hidden="true">
          <div class="stat"><strong>15+</strong><span>Years</span></div>
          <div class="stat"><strong>120+</strong><span>Projects</span></div>
          <div class="stat"><strong>PhilGeps & PCAD</strong><span>Accredited</span></div>
        </div>
      </div>

      <aside class="contact-card" aria-labelledby="quickContact">
        <h4 id="quickContact">Quick contact</h4>
        <p style="margin:0;color:var(--muted)">For quotes, site visits, or technical questions — reach out and we'll respond promptly.</p>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
          <div>
            <div style="font-weight:700">Phone</div>
            <div style="color:var(--muted)"><a href="tel:+63848230528">(084) 823 0528</a></div>
          </div>
          <div style="font-weight:700;color:var(--primary)">📞</div>
        </div>

        <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
          <div>
            <div style="font-weight:700">Email</div>
            <div style="color:var(--muted)"><a href="mailto:kenyenconstructionservices72@gmail.com">kenyenconstructionservices@gmail.com</a></div>
          </div>
          <div style="font-weight:700;color:var(--danger)">✉️</div>
        </div>

        <div style="display:flex; gap:8px; margin-top:6px;">
          <a class="btn-primary" href="tel:+63848230528">Call Now</a>
          <a class="btn-secondary" href="mailto:kenyenconstructionservices@gmail.com">Email</a>
        </div>

        <div style="margin-top:auto; color:var(--muted); font-size:.95rem">
          Office: Phase III, Purok 9, Urban Salvacion, Panabo City — Monday–Saturday 8:00 AM – 5:00 PM
        </div>
      </aside>
    </section>

    <section id="about" class="section" aria-labelledby="aboutHeading">
      <div class="section-title">
        <h2 id="aboutHeading">About Kenyen</h2>
        <div style="color:var(--muted);font-weight:700">Family-owned • Local expertise</div>
      </div>

      <div class="two-col">
        <div class="card">
          <h3>Who we are</h3>
          <p style="color:var(--muted)">Founded by Erwin C. Laurel, Kenyen Steel Works & Construction Services delivers structural steel fabrication, welding, engineering detailing and site erection. We prioritize compliance, safety and client satisfaction.</p>

          <h4 style="color:var(--text)">Mission</h4>
          <p style="color:var(--muted)">Provide safe, high-quality, affordable steel fabrication and construction through skilled people and sound processes.</p>

          <h4 style="color:var(--text)">Vision</h4>
          <p style="color:var(--muted)">To be a trusted partner for sustainable construction and steel solutions in our region.</p>
        </div>

        <aside>
          <div class="card" id="ceo" aria-labelledby="ceoName">
            <div style="display:flex; gap:12px; align-items:center;">
              <div style="width:120px;height:120px;border-radius:10px;overflow:hidden;background:#eef6fb;display:grid;place-items:center;flex-shrink:0">
                <img src="https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/440239264_1445261156088996_7180069057551357572_n.jpg" alt="Erwin C. Laurel" style="width:100%;height:100%;object-fit:cover">
              </div>
              <div>
                <div id="ceoName" style="font-weight:700;color:var(--text)">Erwin C. Laurel</div>
                <div style="color:var(--muted);font-weight:600;margin-top:6px">Founder & CEO</div>
                <p class="quote" style="margin-top:10px;padding-left:8px;border-left:3px solid var(--primary);background:rgba(255,255,255,0.6);border-radius:6px">"We build with integrity — delivering safe, efficient and durable solutions."</p>
              </div>
            </div>

            <div style="display:flex; gap:8px; margin-top:12px; flex-wrap:wrap">
              <a class="btn-primary" href="mailto:kenyenconstructionservices@gmail.com">Email Erwin</a>
              <a class="btn-secondary" href="#contact">Contact Office</a>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <section id="projects" class="section" aria-labelledby="projectsHeading">
      <div class="section-title">
        <h2 id="projectsHeading">Projects</h2>
        <div style="color:var(--muted);font-weight:700">Recent notable works</div>
      </div>

      <div class="projects-grid" role="list">
        <article class="project" role="listitem">
          <div class="media">PANABO FIRE STATION</div>
          <div style="font-weight:700;color:var(--text)">Repair & Improvement of Panabo City Fire Station</div>
          <div class="meta" style="color:var(--muted)">San Pedro — Completed Aug 2025</div>
        </article>

        <article class="project" role="listitem">
          <div class="media">DELA CRUZ HOTEL</div>
          <div style="font-weight:700;color:var(--text)">Dela Cruz Hotel — Renovation</div>
          <div class="meta" style="color:var(--muted)">San Pedro — Completed Sep 2025</div>
        </article>

        <article class="project" role="listitem">
          <div class="media">FENCE & GATE</div>
          <div style="font-weight:700;color:var(--text)">Concrete Fence + Steel Gate</div>
          <div class="meta" style="color:var(--muted)">San Andres — Completed Jun 2025</div>
        </article>

        <article class="project" role="listitem">
          <div class="media">ROAD PAVEMENT</div>
          <div style="font-weight:700;color:var(--text)">Concreting of Road Pavement</div>
          <div class="meta" style="color:var(--muted)">San Andres — Completed Aug 2025</div>
        </article>
      </div>
    </section>

    <section id="contact" class="section" aria-labelledby="contactHeading">
      <div class="section-title">
        <h2 id="contactHeading">Contact</h2>
        <div style="color:var(--muted);font-weight:700">We're happy to help</div>
      </div>

      <div class="contact-grid">
        <div class="contact-info">
          <p style="color:var(--muted)">For inquiries, technical questions or quotations, call or email. We respond promptly and can schedule site visits and measurements.</p>

          <div style="display:flex;gap:14px;margin-top:12px;flex-wrap:wrap;">
            <div style="min-width:180px;">
              <div style="font-weight:800">Phone</div>
              <div style="color:var(--muted)"><a href="tel:+63848230528">(084) 823 0528</a></div>
            </div>

            <div style="min-width:220px;">
              <div style="font-weight:800">Email</div>
              <div style="color:var(--muted)"><a href="mailto:kenyenconstructionservices@gmail.com">kenyenconstructionservices72@gmail.com</a></div>
            </div>
          </div>

          <div style="margin-top:14px;">
            <a class="btn-primary" href="tel:+63848230528">Call Now</a>
            <a class="btn-secondary" href="mailto:kenyenconstructionservices@gmail.com" style="margin-left:8px">Email</a>
          </div>
        </div>

        <aside class="contact-info" aria-label="office details">
          <div style="font-weight:800;color:var(--text)">Office</div>
          <div style="color:var(--muted)">Phase III, Purok 9, Urban Salvacion — Panabo City</div>

          <div style="height:12px"></div>

          <div style="font-weight:800;color:var(--text)">Office Hours</div>
          <div style="color:var(--muted)">Mon–Sat: 8:00 AM – 5:00 PM</div>

          <div style="height:12px"></div>

          <div style="font-weight:800;color:var(--text)">Company</div>
          <div style="color:var(--muted)">Kenyen Steel Works &amp; Construction Services</div>
        </aside>
      </div>
    </section>

    <footer>
      <div style="padding:12px 0; color:var(--muted)">© <span id="year"></span> Kenyen Steel Works &amp; Construction Services — All rights reserved.</div>
    </footer>
  </main>

  <script>
    (function(){
      const header = document.getElementById('siteHeader');
      const main = document.getElementById('main');
      const menuToggle = document.getElementById('menuToggle');
      const drawerBackdrop = document.getElementById('drawerBackdrop');
      const drawer = document.getElementById('drawer');
      const navLinks = document.querySelectorAll('[data-target]');
      const yearEl = document.getElementById('year');
      const brandLogo = document.getElementById('brandLogo');
      const logoWrap = document.getElementById('logoWrap');
      const siteBg = document.getElementById('siteBg');
      const bgImg = document.getElementById('bgImageImg');

      if (yearEl) yearEl.textContent = new Date().getFullYear();

      // Keep header height synced so header doesn't overlap content.
      // Because header height is now dynamic (wraps), recalculate on layout changes.
      function syncHeaderHeight(){
        const h = header.offsetHeight;
        document.documentElement.style.setProperty('--header-h', h + 'px');
        if (main) main.style.paddingTop = (h + 8) + 'px';
        if (drawerBackdrop) drawerBackdrop.style.paddingTop = (h + 8) + 'px';
      }

      // smooth scroll accounting for header height
      function smoothTo(id){
        const el = document.getElementById(id);
        if (!el) return;
        closeDrawer();
        const top = window.scrollY + el.getBoundingClientRect().top - (header ? header.offsetHeight : 0) - 8;
        window.scrollTo({ top, behavior: 'smooth' });
      }

      // nav highlight while scrolling
      function highlightNav(){
        const offset = (header ? header.offsetHeight : 0) + 22;
        let current = 'home';
        document.querySelectorAll('main section[id]').forEach(sec=>{
          const r = sec.getBoundingClientRect();
          if (r.top - offset <= 0) current = sec.id;
        });
        document.querySelectorAll('.nav-link').forEach(link=>{
          if (link.getAttribute('data-target') === current) link.setAttribute('aria-current','true');
          else link.removeAttribute('aria-current');
        });
      }

      // Drawer open/close
      function openDrawer(){
        if (!drawerBackdrop || !drawer) return;
        drawerBackdrop.classList.add('open');
        drawer.classList.add('open');
        drawerBackdrop.setAttribute('aria-hidden','false');
        drawer.setAttribute('aria-modal','true');
        if (menuToggle) menuToggle.setAttribute('aria-expanded','true');
        if (window.matchMedia('(max-width:920px)').matches) document.body.style.overflow = 'hidden';
      }
      function closeDrawer(){
        if (!drawerBackdrop || !drawer) return;
        drawerBackdrop.classList.remove('open');
        drawer.classList.remove('open');
        drawerBackdrop.setAttribute('aria-hidden','true');
        drawer.setAttribute('aria-modal','false');
        if (menuToggle) menuToggle.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }
      function toggleDrawer(){ if (drawer.classList.contains('open')) closeDrawer(); else openDrawer(); }

      // Wiring
      window.addEventListener('load', () => { syncHeaderHeight(); highlightNav(); });
      window.addEventListener('resize', () => { syncHeaderHeight(); highlightNav(); });
      window.addEventListener('orientationchange', () => { setTimeout(syncHeaderHeight, 120); });
      window.addEventListener('scroll', highlightNav, { passive: true });

      navLinks.forEach(a => {
        a.addEventListener('click', function(e){
          e.preventDefault();
          const t = this.getAttribute('data-target');
          if (t) smoothTo(t);
        });
      });

      if (menuToggle){
        menuToggle.addEventListener('click', (e)=>{
          e.stopPropagation();
          toggleDrawer();
          syncHeaderHeight();
        });
      }

      if (drawerBackdrop){
        drawerBackdrop.addEventListener('click', (e)=>{
          if (e.target === drawerBackdrop) closeDrawer();
        });
      }

      const mediaQuery = window.matchMedia('(min-width:921px)');
      if (mediaQuery && mediaQuery.addEventListener) {
        mediaQuery.addEventListener('change', (e)=>{ if (e.matches) closeDrawer(); });
      } else if (mediaQuery && mediaQuery.addListener) {
        mediaQuery.addListener((e)=>{ if (e.matches) closeDrawer(); });
      }

      window.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeDrawer(); });

      // Logo fallback: initials if image fails
      (function logoFallback(){
        if (!brandLogo || !logoWrap) return;
        function fallback(){
          logoWrap.innerHTML = '<div style="font-weight:700;color:var(--text);font-size:13px;letter-spacing:.6px;">KENYEN</div>';
          logoWrap.style.background = 'linear-gradient(180deg, rgba(0,0,255,0.06), rgba(255,199,0,0.04))';
        }
        if (brandLogo.complete){
          if (brandLogo.naturalWidth === 0) fallback();
        } else {
          brandLogo.addEventListener('error', fallback, { once:true });
          setTimeout(()=>{ if (brandLogo.naturalWidth === 0) fallback(); }, 2500);
        }
      })();

      // Background image loading & graceful fallback
      (function bgPreload(){
        const url = 'https://raw.githubusercontent.com/kenyensteel01-wq/KenYen-Website/main/Picture1.png';
        const img = new Image();
        let done = false;
        img.onload = function(){
          done = true;
          if (bgImg && bgImg.src !== url) bgImg.src = url;
        };
        img.onerror = function(){
          done = true;
          if (siteBg) siteBg.style.display = 'none';
          document.body.style.background = 'linear-gradient(180deg,#f6f8fa,#e9eef6)';
        };
        img.src = url;
        setTimeout(() => {
          if (!done) {
            if (bgImg) bgImg.style.filter = 'saturate(0.9) contrast(0.9) brightness(0.65)';
          }
        }, 3000);
      })();

      // Parallax (subtle)
      (function parallax(){
        if (!bgImg) return;
        const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        function onScroll(){
          const y = window.scrollY;
          const t = Math.round(y * 0.04);
          if (!reduce) bgImg.style.transform = `translate3d(0, ${t}px, 0) scale(1)`;
        }
        window.addEventListener('scroll', onScroll, { passive: true });
        onScroll();
      })();

      // CEO image fallback
      (function ceoFallback(){
        const ceoImg = document.querySelector('#ceo img');
        if (!ceoImg) return;
        function fallback(){
          const photo = ceoImg.parentElement;
          if (photo) photo.innerHTML = '<div style="width:100%;height:100%;display:grid;place-items:center;background:#eef8ff;color:var(--text);font-weight:800;font-size:26px;border-radius:8px;">EC</div>';
        }
        if (ceoImg.complete){
          if (ceoImg.naturalWidth === 0) fallback();
        } else {
          ceoImg.addEventListener('error', fallback, { once:true });
          setTimeout(()=>{ if (ceoImg.naturalWidth === 0) fallback(); }, 2000);
        }
      })();

      // initial sync after fonts load
      setTimeout(syncHeaderHeight, 120);
      setTimeout(syncHeaderHeight, 700);
      // also observe body mutations that might affect header size (e.g. when fonts arrive)
      const ro = new ResizeObserver(syncHeaderHeight);
      ro.observe(header);
    })();
  </script>
</body>
</html>

